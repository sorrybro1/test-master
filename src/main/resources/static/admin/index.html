<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>主页</title>
    <link rel="stylesheet" href="../vendor/simple-line-icons/css/simple-line-icons.css">
    <link rel="stylesheet" href="../vendor/font-awesome/css/fontawesome-all.min.css">
    <link rel="stylesheet" href="../css/styles.css">
</head>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="refresh" content="0;url=./userInfo.html">
    <title>跳转中...</title>
    <script>
        window.location.href = "./userInfo.html";
    </script>
</head>
<body>
<p>正在跳转到用户管理...</p>
</body>
<body class="sidebar-fixed header-fixed">
<div class="page-wrapper">
    <div id="publicMenu"></div>

    <div class="content">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <p>用户管理</p>
                    <button class="btn btn-outline-primary" data-toggle="modal" data-target="#modal-1">Default</button>
                    <button class="btn btn-outline-primary" data-toggle="modal" data-target="#modal-2">Large Modal</button>
                    <button class="btn btn-outline-primary" data-toggle="modal" data-target="#modal-3">Small Modal</button>
                </div>

            </div>

            <div class="row ">
                <div class="col-md-12">


                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Name</th>
                                    <th>Sales</th>
                                    <th>Price</th>
                                    <th>Discount</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>1</td>
                                    <td class="text-nowrap">Samsung Galaxy S8</td>
                                    <td>31,589</td>
                                    <td>$800</td>
                                    <td>5%</td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td class="text-nowrap">Google Pixel XL</td>
                                    <td>99,542</td>
                                    <td>$750</td>
                                    <td>3%</td>
                                </tr>
                                <tr>
                                    <td>3</td>
                                    <td class="text-nowrap">iPhone X</td>
                                    <td>62,220</td>
                                    <td>$1,200</td>
                                    <td>0%</td>
                                </tr>
                                <tr>
                                    <td>4</td>
                                    <td class="text-nowrap">OnePlus 5T</td>
                                    <td>50,000</td>
                                    <td>$650</td>
                                    <td>5%</td>
                                </tr>
                                <tr>
                                    <td>5</td>
                                    <td class="text-nowrap">Google Nexus 6</td>
                                    <td>400</td>
                                    <td>$400</td>
                                    <td>7%</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <!--	北京天书飞函信息技术有限公司 @2021 版权所有   -->
            </div>

        </div>
    </div>
</div>

<script src="../vendor/jquery/jquery.min.js"></script>
<script src="../vendor/popper.js/popper.min.js"></script>
<script src="../vendor/bootstrap/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-table@1.22.1/dist/bootstrap-table.min.css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap-table@1.22.1/dist/locale/bootstrap-table-zh-CN.min.js"></script>
<script src="../vendor/chart.js/chart.min.js"></script>
<script src="../js/carbon.js"></script>
<script src="../js/demo.js"></script>
<script src="../js/admin-common.js"></script>
<script type="text/javascript">

    (function loadPublicMenu() {
        fetch("./publicMenu.html")
            .then(r => r.ok ? r.text() : "")
            .then(html => {
                if (!html) return;//admin

                const container = document.getElementById("publicMenu");

                // 分离 HTML 和 Script
                const tempDiv = document.createElement('div');
                tempDiv.innerHTML = html;

                // 插入 HTML 部分
                const scripts = tempDiv.querySelectorAll('script');
                container.innerHTML = tempDiv.innerHTML;

                // 手动执行 script 标签
                scripts.forEach(oldScript => {
                    const newScript = document.createElement('script');
                    newScript.textContent = oldScript.textContent;
                    if (oldScript.src) newScript.src = oldScript.src;
                    document.body.appendChild(newScript);
                });
            })
            .catch(() => {});
    })();

    $(function () {
        $('#user_tab').bootstrapTable({
            method : 'post',
            url : CTX + "/paperCtrl/getUserListPage.do",//请求路径
            striped : true, //是否显示行间隔色
            dataType: "json",
            traditional:true,//这使json格式的字符不会被转码
            //data: {"datalist":row},
            pagination : true,//是否分页
            sidePagination : 'server',//server:服务器端分页|client：前端分页
            cache: false,//是否使用缓存
            pageList: [5,10, 20, 50, 80, 100], // 设置页面可以显示的数据条数
            pageSize: 5, // 页面数据条数
            pageNumber: 1, // 首页页码
            paginationLoop:true,//是否开启分页无限的效果
            searchOnEnterKey:true,//开启回车搜索
            //singleSelect : true, // 单选checkbox
            clickToSelect : true, //是否启用点击选中行
            contentType:'application/x-www-form-urlencoded; charset=UTF-8',
            columns : [ {
                checkbox: true,
                visible: true                  //是否显示复选框
            },{
                title : '账号',
                field : 'username'
            },{
                title : '姓名',
                field : 'u_name'
            },
                /* {
                    title : '电话',
                    field : 'phone'
                }, {
                    title : '邮箱',
                    field : 'email'
                }, */
                {
                    title : '创建时间',
                    type:'data',
                    field : 'create_Time',
                    formatter : function(value, row, index) {
                        if(value!=null&&value!="")
                            return value.substr(0,19);
                    }
                }]
        });
    });

    document.addEventListener("click", function(e) {
        const btn = e.target.closest(".sidebar-toggle");
        if (!btn) return;
        e.preventDefault();
        document.body.classList.toggle("sidebar-hidden");
    });
</script>
</body>
</html>
